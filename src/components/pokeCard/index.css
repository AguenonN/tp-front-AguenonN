.poke-card-link {
    display: block;
    padding-bottom: 12px;
    text-decoration: none;
    color: inherit;
}

.poke-card-link-blocked {
    cursor: not-allowed;
    opacity: 0.68;
}

.card-scene {
    position: relative;
    perspective: 1200px;
    height: 100%;
}

.card-wrap {
    --type-color: #d9b36a;
    --tilt-x: 7deg;
    --tilt-y: -8deg;
    position: relative;
    min-height: 470px;
    height: 100%;
    padding: 12px 12px 28px;
    overflow: hidden;
    transform-style: preserve-3d;
    transition: transform 520ms cubic-bezier(0.23, 1, 0.32, 1), filter 420ms ease;
    clip-path: polygon(1% 7%, 5% 1%, 14% 3%, 22% 0%, 34% 3%, 46% 1%, 56% 4%, 69% 2%, 82% 5%, 95% 2%, 99% 10%, 96% 19%, 99% 28%, 95% 36%, 98% 48%, 96% 61%, 99% 73%, 96% 84%, 98% 93%, 93% 99%, 82% 96%, 70% 99%, 61% 95%, 49% 98%, 38% 96%, 26% 99%, 18% 96%, 8% 99%, 2% 93%, 4% 81%, 1% 70%, 4% 61%, 1% 49%, 3% 37%, 1% 25%, 4% 16%);
    filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.8));
    box-shadow:
        inset 0 0 0 1px rgba(250, 220, 165, 0.2),
        inset 0 0 24px rgba(0, 228, 255, 0.12);
}

.card-wrap:hover {
    transform: rotateX(var(--tilt-x)) rotateY(var(--tilt-y));
}

.card-layer {
    position: absolute;
    inset: 0;
}

.artefact-bg {
    transform: translateZ(-30px);
}

.artefact-mid {
    transform: translateZ(8px);
}

.background-art {
    position: absolute;
    inset: 0;
    transform: translateZ(-40px) scale(1.08);
    background:
        radial-gradient(180px 110px at 22% 30%, rgba(94, 56, 24, 0.18), transparent 74%),
        radial-gradient(220px 160px at 78% 16%, rgba(35, 22, 11, 0.16), transparent 72%),
        repeating-linear-gradient(11deg, rgba(0, 0, 0, 0.05) 0 1px, transparent 1px 7px),
        radial-gradient(circle at 62% 66%, rgba(255, 238, 205, 0.18), transparent 58%),
        linear-gradient(140deg, #e2c392, #b7864f 43%, #805630 100%);
    background-blend-mode: multiply, multiply, soft-light, multiply, normal;
}

.engraved-circuits {
    position: absolute;
    inset: 8px;
    border-radius: 12px;
    background:
        repeating-linear-gradient(90deg, transparent 0 11%, rgba(0, 231, 255, 0.08) 11% 11.5%, transparent 11.5% 23%),
        repeating-linear-gradient(0deg, transparent 0 14%, rgba(241, 197, 115, 0.08) 14% 14.5%, transparent 14.5% 28%);
    mix-blend-mode: soft-light;
    pointer-events: none;
}

.midground-effects {
    transform: translateZ(-10px);
    background:
        radial-gradient(ellipse at 90% 8%, rgba(38, 24, 14, 0.2), transparent 50%),
        radial-gradient(ellipse at 12% 90%, rgba(52, 33, 16, 0.16), transparent 52%);
    mix-blend-mode: normal;
}

.foreground-content {
    z-index: 3;
    transform: translateZ(40px);
    display: flex;
    flex-direction: column;
    padding: 18px 12px 0;
}

.poke-card-header {
    border-bottom: 1px solid color-mix(in srgb, var(--type-color), #4b2f13 50%);
    padding-bottom: 6px;
    box-shadow: 0 1px 0 rgba(0, 225, 255, 0.15);
}

.poke-title {
    margin: 0;
    font-family: "Cinzel Decorative", "Cinzel", "Palatino Linotype", serif;
    text-transform: uppercase;
    letter-spacing: 0.17em;
    text-align: center;
    font-size: clamp(0.84rem, 1vw, 1.02rem);
    color: #f2d69e;
    text-shadow:
        0 1px 0 rgba(70, 42, 16, 0.8),
        0 0 8px rgba(255, 202, 114, 0.45),
        0 0 16px rgba(0, 236, 255, 0.24);
}

.poke-type-chip {
    margin: 8px 0 0;
    text-align: center;
    font-family: "IM Fell English", "Cormorant Garamond", serif;
    font-size: clamp(0.9rem, 1vw, 1rem);
    color: #f3d7a2;
    text-shadow: 0 0 8px rgba(255, 202, 114, 0.35), 0 0 12px rgba(0, 236, 255, 0.2);
}

.pokemon-character {
    z-index: 6;
    top: 74px;
    left: 12px;
    right: 12px;
    bottom: auto;
    height: 156px;
    transform: translateZ(28px);
    transition: transform 320ms ease;
    pointer-events: none;
}

.poke-image-background {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    overflow: hidden;
    clip-path: polygon(1% 8%, 7% 2%, 19% 4%, 33% 1%, 47% 4%, 61% 1%, 74% 4%, 88% 1%, 99% 8%, 96% 25%, 99% 41%, 96% 56%, 99% 73%, 95% 91%, 87% 99%, 73% 96%, 60% 99%, 45% 96%, 31% 99%, 17% 96%, 5% 99%, 1% 89%, 4% 71%, 1% 54%, 4% 36%, 1% 18%);
    border: 1px solid color-mix(in srgb, var(--type-color), #4e3016 45%);
    background:
        radial-gradient(circle at center, color-mix(in srgb, var(--type-color), #fff4d7 72%) 0%, rgba(255, 246, 225, 0.2) 48%, rgba(84, 54, 28, 0.18) 90%);
}

.poke-image-background::before {
    content: "";
    position: absolute;
    inset: 14% 18%;
    border-radius: 999px;
    background: radial-gradient(circle, color-mix(in srgb, var(--type-color), white 60%) 0%, transparent 68%);
    opacity: 0.45;
    filter: blur(10px);
}

.poke-image {
    width: min(206px, 92%);
    max-height: 92%;
    height: auto;
    aspect-ratio: 1 / 1;
    object-fit: contain;
    object-position: center;
    position: relative;
    filter:
        brightness(1.28)
        contrast(1.18)
        saturate(1.26)
        drop-shadow(0 14px 10px rgba(48, 27, 12, 0.36))
        drop-shadow(0 0 16px color-mix(in srgb, var(--type-color), transparent 56%));
    animation: breathe 3.4s cubic-bezier(0.46, 0.06, 0.52, 0.96) infinite;
}

.pokemon-popout {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    transform-style: preserve-3d;
    transition: transform 320ms ease;
}

.stats-layer {
    z-index: 4;
    transform: translateZ(95px);
    left: 22px;
    right: 22px;
    bottom: 16px;
    top: 198px;
}

.poke-stats {
    position: relative;
    height: 100%;
    padding: 10px 18px 14px;
    isolation: isolate;
}

.poke-stats::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 0;
    clip-path: polygon(2% 9%, 8% 3%, 21% 5%, 36% 2%, 52% 5%, 67% 2%, 80% 5%, 92% 2%, 98% 9%, 95% 25%, 97% 40%, 95% 58%, 97% 75%, 94% 92%, 81% 97%, 67% 94%, 52% 98%, 38% 94%, 23% 98%, 10% 95%, 3% 88%, 5% 72%, 3% 55%, 5% 38%, 2% 22%);
    background:
        radial-gradient(circle at 50% 20%, rgba(255, 241, 209, 0.12), transparent 60%),
        linear-gradient(135deg, rgba(58, 36, 18, 0.96), rgba(39, 24, 13, 0.97));
}

.poke-stat-row {
    position: relative;
    z-index: 1;
    display: grid;
    gap: 4px;
    margin-bottom: 4px;
}

.poke-stat-row:last-child {
    margin-bottom: 0;
}

.stat-head {
    display: flex;
    justify-content: space-between;
    gap: 8px;
    padding: 0 8px;
    font-family: "IM Fell English", "Cormorant Garamond", serif;
    color: #f7e3be;
    text-shadow: 0 0 8px rgba(255, 208, 124, 0.36), 0 0 10px rgba(0, 235, 255, 0.2);
}

.stat-label {
    font-size: clamp(0.82rem, 0.9vw, 0.92rem);
    white-space: nowrap;
}

.stat-value {
    font-size: clamp(0.84rem, 0.95vw, 0.96rem);
    color: color-mix(in srgb, var(--type-color), #ffdca0 30%);
    min-width: 2ch;
    text-align: right;
    text-shadow: 0 0 10px rgba(0, 229, 255, 0.45), 0 0 8px rgba(255, 202, 114, 0.2);
}

.stat-bar {
    position: relative;
    height: 8px;
    margin: 0 8px;
    clip-path: polygon(0 43%, 4% 10%, 16% 24%, 31% 5%, 46% 22%, 61% 8%, 75% 28%, 88% 11%, 100% 35%, 95% 75%, 82% 57%, 67% 90%, 51% 60%, 35% 87%, 20% 66%, 7% 91%);
    background:
        linear-gradient(180deg, rgba(245, 226, 185, 0.16), rgba(57, 38, 21, 0.5)),
        rgba(241, 223, 190, 0.2);
    border: 1px solid rgba(241, 202, 122, 0.35);
    box-shadow:
        inset 0 0 5px rgba(0, 225, 255, 0.22),
        inset 0 -2px 3px rgba(14, 8, 3, 0.45);
}

.stat-bar-fill {
    width: var(--stat-value);
    height: 100%;
    background:
        linear-gradient(90deg, rgba(255, 232, 169, 0.98), color-mix(in srgb, var(--type-color), #7a4a1b 28%)),
        repeating-linear-gradient(90deg, rgba(255, 244, 224, 0.45) 0 8px, transparent 8px 16px);
    box-shadow:
        inset 0 0 6px rgba(255, 246, 226, 0.4),
        0 0 10px rgba(255, 205, 124, 0.4),
        0 0 14px rgba(0, 230, 255, 0.2);
    mix-blend-mode: screen;
    animation: magicFill 1s cubic-bezier(0.17, 0.86, 0.33, 1) both;
}

.card-wrap:hover .background-art {
    transform: translateZ(-55px) translateX(-6px) scale(1.12);
}

.card-wrap:hover .pokemon-character {
    transform: translateZ(60px) translateX(2px) translateY(-4px);
}

.card-wrap:hover .pokemon-popout {
    transform: translateZ(60px);
}

.card-wrap:hover .foreground-content {
    transform: translateZ(54px) translateY(-2px);
}

.card-wrap:hover .stats-layer {
    transform: translateZ(116px) translateY(-2px);
}

.poke-theme-fire {
    --type-color: #f17f43;
}

.poke-theme-water {
    --type-color: #6bb4da;
}

.poke-theme-grass {
    --type-color: #8da347;
}

.poke-theme-electric {
    --type-color: #e6b94e;
}

.poke-theme-psychic {
    --type-color: #b981d4;
}

.poke-theme-dragon {
    --type-color: #927bcf;
}

.poke-theme-dark {
    --type-color: #8f7b63;
}

@keyframes breathe {
    0% {
        transform: scale(0.98);
    }
    50% {
        transform: scale(1.02);
    }
    100% {
        transform: scale(0.98);
    }
}

@keyframes magicFill {
    from {
        width: 0;
    }
}
